<!DOCTYPE html>
<html>
<head>
    <title>Text-to-Image API示例</title>
</head>
<body>
    <h1>Text-to-Image API示例</h1>

    <label for="prompt1">Prompt 1：</label>
    <input type="text" id="prompt1" placeholder="輸入提示1"><br><br>

    <label for="prompt2">Prompt 2：</label>
    <input type="text" id="prompt2" placeholder="輸入提示2"><br><br>

    <label for="prompt3">Prompt 3：</label>
    <input type="text" id="prompt3" placeholder="輸入提示3"><br><br>

    <button onclick="generateImages()">生成圖片</button><br><br>

    <div id="imageContainer">
        <!-- 這裡將顯示生成的圖片 -->
    </div>

    <script>
        async function generateImages() {
            const prompt1 = document.getElementById('prompt1').value;
            const prompt2 = document.getElementById('prompt2').value;
            const prompt3 = document.getElementById('prompt3').value;
            const imageContainer = document.getElementById('imageContainer');

            // 請將下面的URL替換為你的API端點
            const apiUrl = 'https://zhihmeng.ddns.net/sdapi/v1/txt2img';

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        "denoising_strength": 0,
                        "prompt": prompt1 + "," + prompt2 + "," + prompt3 + ",a image of cd cover",
                        "negative_prompt": "easy negative",
                        "seed": -1,
                        "batch_size": 2,
                        "n_iter": 1,
                        "steps": 50,
                        "cfg_scale": 7,
                        "width": 512,
                        "height": 512,
                        "restore_faces": false,
                        "tiling": false,
                        "override_settings": {
                        "sd_model_checkpoint" :"wlop-any.ckpt [7331f3bc87]"
                        },
                        "script_args": [
                            0,
                            true,
                            true,
                            "LoRA",
                            "dingzhenlora_v1(fa7c1732cc95)",
                            1,
                            1
                        ],
                        "sampler_index": "Euler"
                    })
                });

                const data = await response.json();

                // 顯示生成的Base64圖片
                imageContainer.innerHTML = `
                    <img src="data:image/png;base64, ${data.image1}" alt="Image 1">
                    <img src="data:image/png;base64, ${data.image2}" alt="Image 2">
                    <img src="data:image/png;base64, ${data.image3}" alt="Image 3">
                `;
            } catch (error) {
                console.error('發生錯誤:', error);
            }
        }
    </script>
</body>
</html>
